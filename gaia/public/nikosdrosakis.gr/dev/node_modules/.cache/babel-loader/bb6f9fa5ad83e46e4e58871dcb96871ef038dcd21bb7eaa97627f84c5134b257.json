{"ast":null,"code":"import React,{useState,useEffect,Suspense}from'react';import{Routes,Route}from'react-router-dom';import FallbackSpinner from'./components/FallbackSpinner';import NavBarWithRouter from'./components/NavBar';import Home from'./pages/Home';import endpoints from'./constants/endpoints';import Footer from\"./components/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(){const[data,setData]=useState(false);useEffect(()=>{const fetchData=async()=>{fetch(process.env.REACT_APP_HTTP_API+endpoints.routes,{method:'GET'}).then(res=>res.json()).then(res=>setData(res)).catch(err=>err);};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Main\",children:[/*#__PURE__*/_jsx(NavBarWithRouter,{}),/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(FallbackSpinner,{}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),data&&data.sections.map(dat=>{const Page=/*#__PURE__*/React.lazy(()=>import('./pages/'+dat.component));return/*#__PURE__*/_jsx(Route,{path:dat.path,element:/*#__PURE__*/_jsx(Page,{header:dat.headerTitle})},dat.headerTitle);})]})})})]});}export default Main;","map":{"version":3,"names":["React","useState","useEffect","Suspense","Routes","Route","FallbackSpinner","NavBarWithRouter","Home","endpoints","Footer","jsx","_jsx","jsxs","_jsxs","Main","data","setData","fetchData","fetch","process","env","REACT_APP_HTTP_API","routes","method","then","res","json","catch","err","className","children","fallback","exact","path","element","sections","map","dat","Page","lazy","component","header","headerTitle"],"sources":["/var/www/gs/gaia/public/nikosdrosakis.gr/dev/src/Main.jsx"],"sourcesContent":["import React, { useState, useEffect, Suspense } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport FallbackSpinner from './components/FallbackSpinner';\nimport NavBarWithRouter from './components/NavBar';\nimport Home from './pages/Home';\nimport endpoints from './constants/endpoints';\nimport Footer from \"./components/Footer\";\nfunction Main() {\n  const [data, setData] = useState(false);\n    useEffect(() => {\n        const fetchData = async () =>{\n            fetch(process.env.REACT_APP_HTTP_API+endpoints.routes, {\n                method: 'GET',\n            })\n                .then((res) => res.json())\n                .then((res) => setData(res))\n                .catch((err) => err);\n        }\n        fetchData();\n    }, []);\n\n  return (\n    <div className=\"Main\">\n        <NavBarWithRouter />\n      <main className=\"main\">\n          <Suspense fallback={ <FallbackSpinner /> }>\n        <Routes>\n            <Route exact=\"true\"  path=\"/\" element={ <Home/> } />\n            {data && data.sections.map((dat) => {\n                const Page = React.lazy(() => import('./pages/' + dat.component));\n                return (\n                  <Route key={dat.headerTitle} path={ dat.path } element={ <Page header={ dat.headerTitle } /> }/>\n                );\n              })}\n        </Routes>\n          </Suspense>\n      </main>\n    </div>\n  );\n}\n\nexport default Main;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,gBAAgB,KAAM,qBAAqB,CAClD,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,SAAS,KAAM,uBAAuB,CAC7C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACzC,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACrCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgB,SAAS,CAAG,KAAAA,CAAA,GAAW,CACzBC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAACb,SAAS,CAACc,MAAM,CAAE,CACnDC,MAAM,CAAE,KACZ,CAAC,CAAC,CACGC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEC,GAAG,EAAKT,OAAO,CAACS,GAAG,CAAC,CAAC,CAC3BE,KAAK,CAAEC,GAAG,EAAKA,GAAG,CAAC,CAC5B,CAAC,CACDX,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAER,mBACEJ,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBnB,IAAA,CAACL,gBAAgB,GAAE,CAAC,cACtBK,IAAA,SAAMkB,SAAS,CAAC,MAAM,CAAAC,QAAA,cAClBnB,IAAA,CAACT,QAAQ,EAAC6B,QAAQ,cAAGpB,IAAA,CAACN,eAAe,GAAE,CAAG,CAAAyB,QAAA,cAC5CjB,KAAA,CAACV,MAAM,EAAA2B,QAAA,eACHnB,IAAA,CAACP,KAAK,EAAC4B,KAAK,CAAC,MAAM,CAAEC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAGvB,IAAA,CAACJ,IAAI,GAAC,CAAG,CAAE,CAAC,CACnDQ,IAAI,EAAIA,IAAI,CAACoB,QAAQ,CAACC,GAAG,CAAEC,GAAG,EAAK,CAChC,KAAM,CAAAC,IAAI,cAAGvC,KAAK,CAACwC,IAAI,CAAC,IAAM,MAAM,CAAC,UAAU,CAAGF,GAAG,CAACG,SAAS,CAAC,CAAC,CACjE,mBACE7B,IAAA,CAACP,KAAK,EAAuB6B,IAAI,CAAGI,GAAG,CAACJ,IAAM,CAACC,OAAO,cAAGvB,IAAA,CAAC2B,IAAI,EAACG,MAAM,CAAGJ,GAAG,CAACK,WAAa,CAAE,CAAG,EAAlFL,GAAG,CAACK,WAA+E,CAAC,CAEpG,CAAC,CAAC,EACA,CAAC,CACG,CAAC,CACT,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAA5B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}